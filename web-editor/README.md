# Render2Go Web Editor

一个功能强大的可视化动画脚本编辑器，为 Render2Go 项目提供类似 PowerPoint 的直观操作界面。

## 功能特性

### 🎨 可视化编辑
- **拖拽式界面**: 通过鼠标直接在画布上创建和编辑对象
- **实时预览**: 所见即所得的编辑体验
- **多对象支持**: 圆形、矩形、文本、直线、三角形等图形对象
- **智能对齐**: 网格吸附和对象对齐工具

### 🎬 动画制作
- **时间轴编辑**: 可视化的关键帧动画编辑
- **缓动曲线**: 多种动画缓动效果
- **实时播放**: 在编辑器中直接预览动画效果
- **自动关键帧**: 智能记录属性变化

### 🛠️ 专业工具
- **属性面板**: 精确控制对象的各种属性
- **图层管理**: 对象层级和可见性控制
- **撤销重做**: 完整的操作历史管理
- **项目保存**: 保存和加载项目文件

### 📦 导出功能
- **Render2Go 脚本**: 直接导出为 .r2g 脚本文件
- **代码预览**: 查看生成的脚本代码
- **项目文件**: 保存为 .r2gp 项目文件

## 快速开始

### 1. 启动编辑器

在 web-editor 目录下启动一个 HTTP 服务器：

```bash
# 使用 Python 3
python -m http.server 8000

# 使用 Python 2
python -m SimpleHTTPServer 8000

# 使用 Node.js (需要安装 http-server)
npx http-server -p 8000

# 使用 PHP
php -S localhost:8000
```

然后在浏览器中访问 `http://localhost:8000`

### 2. 创建第一个动画

1. **添加对象**: 点击工具栏中的形状按钮，然后在画布上点击创建
2. **调整属性**: 在右侧属性面板中修改颜色、大小等属性
3. **添加动画**: 在时间轴上添加关键帧，创建移动或变化效果
4. **预览播放**: 点击播放按钮查看动画效果
5. **导出脚本**: 使用文件菜单导出为 Render2Go 脚本

## 界面介绍

### 主工具栏
- **选择工具** (V): 选择和移动对象
- **形状工具**: 创建圆形 (C)、矩形 (R)、文本 (T)、直线 (L)、三角形 (P)
- **播放控制**: 播放、暂停、停止动画
- **缩放控制**: 放大、缩小、适应屏幕

### 面板布局
- **左侧面板**: 对象列表和图层管理
- **中央区域**: 画布编辑区域
- **右侧面板**: 属性编辑面板
- **底部面板**: 时间轴和动画控制

### 快捷键

| 快捷键                | 功能         |
| --------------------- | ------------ |
| Ctrl+N                | 新建项目     |
| Ctrl+O                | 打开项目     |
| Ctrl+S                | 保存项目     |
| Ctrl+Shift+S          | 另存为       |
| Ctrl+E                | 导出脚本     |
| Ctrl+Z                | 撤销         |
| Ctrl+Y / Ctrl+Shift+Z | 重做         |
| Ctrl+C                | 复制         |
| Ctrl+V                | 粘贴         |
| Ctrl+A                | 全选         |
| Ctrl+D                | 复制对象     |
| Delete                | 删除选中对象 |
| V                     | 选择工具     |
| R                     | 矩形工具     |
| C                     | 圆形工具     |
| T                     | 文本工具     |
| L                     | 直线工具     |
| P                     | 三角形工具   |
| Space                 | 播放/暂停    |
| F11                   | 全屏切换     |

## 工作流程

### 基础编辑流程
1. 创建新项目或打开现有项目
2. 设置场景尺寸和基本属性
3. 使用工具添加各种图形对象
4. 在属性面板中调整对象样式
5. 保存项目备份

### 动画制作流程
1. 选择要制作动画的对象
2. 在时间轴上设置起始时间点
3. 点击"添加关键帧"记录初始状态
4. 移动时间轴到目标时间点
5. 修改对象属性（位置、大小、颜色等）
6. 再次添加关键帧记录结束状态
7. 播放预览动画效果
8. 调整缓动曲线优化动画

### 脚本导出流程
1. 完成动画制作后点击"导出"按钮
2. 在导出设置中选择格式和选项
3. 预览生成的脚本代码
4. 下载 .r2g 脚本文件
5. 使用 Render2Go 命令行工具渲染动画

## 支持的对象类型

### 圆形 (Circle)
- 位置、半径
- 填充颜色、描边颜色
- 透明度、旋转

### 矩形 (Rectangle)  
- 位置、尺寸
- 填充颜色、描边颜色
- 透明度、旋转

### 文本 (Text)
- 位置、文本内容
- 字体、字号、颜色
- 对齐方式、透明度

### 直线 (Line)
- 起点、终点坐标
- 颜色、粗细
- 透明度

### 三角形 (Triangle)
- 三个顶点坐标
- 填充颜色、描边颜色
- 透明度、旋转

## 动画属性

所有对象都支持以下动画属性：
- **位置** (x, y): 对象的坐标位置
- **尺寸** (width, height): 对象的宽度和高度
- **旋转** (rotation): 对象的旋转角度
- **透明度** (opacity): 对象的不透明度 (0-1)
- **颜色**: 填充颜色、描边颜色等

## 项目文件格式

### .r2gp 项目文件
包含完整的项目信息，用于在编辑器中重新打开：
- 场景配置
- 所有对象定义
- 动画轨道和关键帧
- 编辑器设置

### .r2g 脚本文件
Render2Go 可执行的脚本文件，用于渲染动画：
- 场景声明
- 对象定义
- 动画序列

## 浏览器兼容性

推荐使用现代浏览器：
- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## 故障排除

### 常见问题

**Q: 页面显示空白或加载失败**
A: 确保通过 HTTP 服务器访问，不要直接打开 HTML 文件

**Q: 对象创建后看不见**
A: 检查对象是否在画布范围内，尝试缩放视图

**Q: 动画播放不流畅**
A: 降低帧率或减少同时动画的对象数量

**Q: 导出的脚本无法运行**
A: 检查 Render2Go 命令行工具是否正确安装

### 性能优化建议

1. **限制对象数量**: 单个场景建议不超过 50 个对象
2. **合理使用关键帧**: 避免过于密集的关键帧设置
3. **优化动画时长**: 较长的动画可能影响编辑器性能
4. **定期保存项目**: 防止意外丢失工作成果

## 开发说明

### 项目结构
```
web-editor/
├── index.html          # 主界面
├── css/               # 样式文件
│   ├── main.css       # 主样式
│   ├── components.css # 组件样式
│   └── editor.css     # 编辑器样式
└── js/                # JavaScript文件
    ├── utils.js       # 工具函数
    ├── objects.js     # 对象系统
    ├── scene.js       # 场景管理
    ├── timeline.js    # 时间轴
    ├── properties.js  # 属性面板
    ├── export.js      # 导出系统
    └── main.js        # 主应用
```

### 技术栈
- **前端**: HTML5, CSS3, JavaScript (ES6+)
- **图标**: Font Awesome
- **架构**: 事件驱动的模块化设计

## 许可证

本项目采用 MIT 许可证。

## 贡献

欢迎提交 Issue 和 Pull Request 来改进这个项目！

---

**Render2Go Web Editor** - 让动画创作变得简单而有趣！
